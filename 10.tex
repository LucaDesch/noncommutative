\chapter{}

\topic{Braces and 1-cocycles}

Let $K$ and $Q$ be groups.
An {\em extension} of $K$ by $Q$ is a
short exact sequence of group homomorphisms 
\[
\begin{tikzcd}
	1 & K & G & Q & 1
	\arrow[from=1-1, to=1-2]
	\arrow["f", from=1-2, to=1-3]
	\arrow["g", from=1-3, to=1-4]
	\arrow[from=1-4, to=1-5]
\end{tikzcd}
\]
This means that $f$ is injective, $g$ is surjective and $\ker g=\im f$. Note that in this case, $K$ is isomorphic to $f(K)$, which is a normal subgroup of $G$ and $G/f(K)\simeq Q$. We also say that $G$ is an extension of $K$ by $Q$.

\begin{example}
	$C_6$ and $\Sym_3$ are both extensions of $C_3$ by $C_2$.
\end{example}

\begin{example}
	$C_6$ is an extension of $C_2$ by $C_3$.
\end{example}

\begin{example}
    The direct product $K\times Q$ of the groups $K$ and $Q$ 
    is an extension of $K$ by $Q$ and an extension of $Q$ by $K$. 
\end{example}

\begin{example}
Let $G$ be an extension of $K$ by $Q$. If $L$ is a subgroup of $G$ containing $K$, 
then $L$ is an extension
of $K$ by $L/K$.
\end{example}

\index{Lifting} 
Let $E:
\begin{tikzcd}
	1 & K & G & Q & 1
	\arrow[from=1-1, to=1-2]
	\arrow[from=1-2, to=1-3]
	\arrow["p", from=1-3, to=1-4]
	\arrow[from=1-4, to=1-5]
\end{tikzcd}$
be an extension of groups. A {\em lifting} of $E$ is a map $\ell\colon
Q\to G$ such that $p(\ell(x))=x$, for all $x\in Q$. 

\index{Split!extension}
An extension $E$ {\em splits} if there is a lifting of $E$ that it is a group
homomorphism. 

\index{Derivation}
\index{$1$-cocycle}
Let $Q$ and $K$ be groups. Assume that $Q$ acts by automorphisms on $K$, that is there is a group homomorphism $\alpha\colon Q\rightarrow \Aut(k)$. We write $\alpha_x=\alpha(x)$, for all $x\in Q$.
A map $\varphi\colon Q\to K$ is said to be a {\em $1$-cocycle} (or a derivation) if
\[
		\varphi(xy)=\varphi(x)\alpha_x(\varphi(y)),
\]
for all $x,y\in Q$.  The set of 1-cocycles $Q\to K$ is defined as 
\[
\Der(Q,K)=Z^1(Q,K)=\{\delta\colon Q\to K:\text{$\delta$ is $1$-cocycle}\}.
\]

\begin{example}
	Let $K$ and $Q$ be groups. Let $\alpha\colon Q\rightarrow \Aut(K)$ be a group homomorphism.  For each $k\in K$, the map 
	$\delta_k\colon Q\to K$, $x\mapsto \delta_k(x)=[k,x]=k\alpha_x(k)^{-1}$, is a derivation. 
\end{example}

% \begin{svgraybox}
% 	Para $k\in K$ y $x\in Q$ escribimos $\delta_k(x)=[k,x]$. Entonces 
% 	\[
% 	\delta_k(x)(x\delta_k(y)x^{-1})
% 	=kxk^{-1}x^{-1}xkyk^{-1}y^{-1}x^{-1}
% 	=k(xy)k^{-1}(xy)^{-1}
% 	=\delta_k(xy).
% 	\]
% \end{svgraybox}


A subgroup $K$ of a group $G$ admits a {\em complement} $Q$ if $G$ admits an exact factorization 
through $K$ and $Q$, i.e. $G=KQ$ with $K\cap Q=\{1\}$. 
A classical example is the (inner) semidirect product $G=K\rtimes Q$, where $K$ is a normal subgroup of $G$ 
and $Q$ is a subgroup of $G$ such that $K\cap Q=\{1\}$. 

Let $K$ and $Q$ be groups. Let $\alpha\colon Q\rightarrow \Aut(K),\,x\mapsto \alpha_x$ be a group homomorphism. Consider the set $K\times Q$. We define a multiplication on this set by
\[(k_1,q_1)(k_2,q_2)=(k_1\alpha_{q_1}(k_2),q_1q_2),\]
for all $k_1,k_2\in K$ and $q_1,q_2\in Q$. Then $K\times Q$ with this multiplication is a group, called the semidirect product of $K$ by $Q$ via $\alpha$, and denoted by $K\rtimes_{\alpha}Q$. Note that $K\times\{ 1\}$ is a normal subgroup of $K\rtimes_{\alpha}Q$, and $\{1\}\times Q$ is a subgroup of $K\rtimes_{\alpha}Q$. Thus $K\rtimes_{\alpha}Q$ is the inner semidirect product of $K\times\{ 1\}$ by $\{1\}\times Q$. Since $K\simeq K\times\{ 1\}$ and $Q\simeq \{1\}\times Q$, we identify these groups, i. e. $k\equiv (k,1)$ and $q\equiv (1,q)$ for all $k\in K$ and $q\in Q$. Note that
\[ 
qkq^{-1}\equiv (1,q)(k,1)(1,q^{-1})=(\alpha_q(k),q)(1,q^{-1})=(\alpha_q(k),1)=\alpha_q(k)
\]
for all $k\in K$ and $q\in Q$.

\begin{theorem}
	\label{thm:complements}
	Let $Q$ and $K$ be groups and let $\alpha\colon Q\rightarrow \Aut (K)$ be a
	group homomorphism. Then there exists a bijective correspondence
	\[
	\{\text{complements of $K$ in $K\rtimes Q$}\}\leftrightarrow\Der(Q,K).
	\]
	%between
	%the set $\mathcal{C}$ of complements of $K$ in $K\rtimes Q$ and the set
	%$\Der(Q,K)$ of 1-cocycles $Q\to K$.
\end{theorem}

\begin{proof}
    Let $\mathcal{C}$ be the set of complements of $K$ in $K\rtimes Q$. 
	Since $Q$ acts by conjugation on $K$, it follows that $\delta\in\Der(Q,K)$ if and only if 
	$\delta(xy)=\delta(x)x\delta(y)x^{-1}$ for all $x,y\in Q$. In this case, 
	one obtains that 
	$\delta(1)=1$ and $\delta(x^{-1})=x^{-1}\delta(x)^{-1}x$.
	
	Let 
	$C\in\mathcal{C}$. If $x\in Q$, then there exist unique elements  
	$k\in K$ and $c\in C$ such that $x=k^{-1}c$. Hence the  map 
	$\delta_C\colon Q\to K$, $x\mapsto k$, is well-defined and 
	$\delta_C(x)x=c\in C$. 
	
	We claim that $\delta_C\in\Der(Q,K)$. If $x,x_1\in Q$, we write $x=k^{-1}c$
	and $x_1=k_1^{-1}c_1$ for $k,k_1\in K$ and $c,c_1\in C$. Since $K$ is a normal subgroup of 
	the semidirect product $K\rtimes Q$, we can write $xx_1$ as $xx_1=k_2c_2$, where 
	$k_2=k^{-1}(ck_1^{-1}c^{-1})\in K$, $c_2=cc_1\in C$. Thus  
	$\delta_C(xx_1)xx_1=cc_1=\delta_C(x)x\delta_C(x_1)x_1$ 
	implies that $\delta_C(xx_1)=\delta_C(x)x\delta_C(x_1)x^{-1}$. 
	So there is a map $F\colon\mathcal{C}\to\Der(Q,K)$, $F(C)=\delta_C$.

	We now construct a map $G\colon\Der(Q,K)\to\mathcal{C}$. 
	For each 
	$\delta\in\Der(Q,K)$ we find a complement $\Delta$ of $K$ in $K\rtimes Q$. Let 
	$\Delta=\{\delta(x)x:x\in Q\}$. 
	We claim that $\Delta$ is a subgroup of $K\rtimes Q$. Since $\delta(1)=1$,
	$1\in \Delta$. If $x,y\in Q$, then 
	\[
	\delta(x)x\delta(y)y=\delta(x)x\delta(y)x^{-1}xy=\delta(xy)xy\in \Delta.
	\]
	Finally, if $x\in Q$, then 
	\[
	(\delta(x)x)^{-1}=x^{-1}\delta(x)^{-1}xx^{-1}=\delta(x^{-1})x^{-1}\in \Delta.
	\]
	Thus $\Delta$ is a subgroup of $K\rtimes Q$.
	We claim that $\Delta\cap K=\{1\}$. If $x\in Q$ is such that $\delta(x)x\in K$, then 
    since $\delta(x)\in K$, it follows that $x\in K\cap Q=\{1\}$. If $g\in G$, then 
	there are unique $k\in K$ and $x\in Q$ such that $g=kx$. We write 
	$g=k\delta(x)^{-1}\delta(x)x$. Since $k\delta(x)^{-1}\in K$ and $\delta(x)x\in
	\Delta$, we conclude that $G=K\Delta$. Thus there is a well-defined map 
	$G\colon\Der(Q,K)\to\mathcal{C}$, $G(\delta)=\Delta$.

	We claim that $G\circ F=\id_{\mathcal{C}}$. 
	Let $C\in\mathcal{C}$. Then  
	\[
	G(F(C))=G(\delta_C)=\{\delta_C(x)x:x\in
	Q\}=C,
	\]
	by construction. (We know that $\delta_C(x)x\in C$. Conversely, if $c\in
	C$, we write $c=kx$ for unique elements $k\in K$ and $x\in Q$. Thus $x=k^{-1}c$
	and hence $c=\delta_c(x)x$.)

	Finally, we prove that $F\circ G=\id_{\Der(Q,K)}$. Let $\delta\in\Der(Q,K)$.
    Then	
    \[
	F(G(\delta))=F(\Delta)=\delta_{\Delta}.
	\]
	Finally, we need to show that $\delta_\Delta=\delta$.  Let $x\in Q$. There exists 
	$\delta(y)y\in\Delta$ for some $y\in Q$ such that $x=k^{-1}\delta(y)y$.
	Thus $\delta_{\Delta}(x)x=\delta(y)y$ and hence $x=y$ and $\delta_{\Delta}(x)=\delta(y)$ by
	the uniqueness. Therefore, $\delta_{\Delta}=\delta$, and the result follows. 
\end{proof}

\index{Derivation!inner}
\index{$1$-coboundary} 
Let $K$ and $Q$ be groups and let $\alpha\colon Q\rightarrow \Aut(K)$ be a group homomorphism.
A derivation $\delta\in\Der(Q,K)$ is said to be {\em inner} if there exists $k\in K$ 
such that $\delta(x)=[k,x]$ for all $x\in Q$. The set of 
{\em inner derivations} will be denoted by 
\[
		\Inn(Q,K)=B^1(Q,K)=\{\delta\in\Der(Q,K):\text{$\delta$ is inner}\}.
\]
An inner derivation is also called a {\em $1$-coboundary}.

\begin{theorem}[Sysak]
	\index{Sysak's theorem}
	\label{theorem:Sysak}
	Let $K$ and $Q$ be groups and let $\alpha\colon Q\rightarrow \Aut(K)$ be a group homomorphism. Let
	$\delta\in\Der(Q,K)$.
	\begin{enumerate}
		\item $\Delta=\{\delta(x)x:x\in Q\}$ is a complement of $K$ in $K\rtimes Q$.
		\item $\delta\in\Inn(Q,K)$ if and only if $\Delta=kQ k^{-1}$ for some $k\in K$.
		\item $\ker\delta=Q\cap\Delta$.
		\item $\delta$ is surjective if and only if $K\rtimes Q=\Delta Q$.
	\end{enumerate}
\end{theorem}

\begin{proof}
	In the proof of Theorem~\ref{thm:complements} we 
	found that $\Delta$ is a complement of $K$ in $K\rtimes Q$. 

	Let us prove the second statement. If $\delta$ is inner, then there exists 
    $k\in K$ such that $\delta(x)=[k,x]=kxk^{-1}x^{-1}$ for all $x\in
	Q$. Since $\delta(x)x=kxk^{-1}$ for all $x\in Q$,  $\Delta=kQk^{-1}$.
	Conversely, if there exists $k\in K$ such that $\Delta=kQk^{-1}$, for each 
	$x\in Q$ there exists $y\in Q$ such that $\delta(x)x=kyk^{-1}$. Since
	$[k,y]=kyk^{-1}y^{-1}\in K$, $\delta(x)\in K$ and $\delta(x)x=[k,y]y\in KQ$,
	we conclude that  $x=y$ and hence $\delta(x)=[k,x]$. 

	Let us prove the third statement. If $x\in Q$ is such that $\delta(x)x=y\in
	Q$, then \[
	\delta(x)=yx^{-1}\in K\cap Q=\{1\}.
	\]
	Conversely, if $x\in Q$
	is such that $\delta(x)=1$, then $x=\delta(x)x\in Q\cap\Delta$. 

	Finally we prove the fourth statement. If $\delta$ is surjective, then for each 
	$k\in K$ there exits $y\in Q$ such that $\delta(y)=k$. Thus $K\rtimes Q\subseteq
	\Delta Q$, as 
	\[
	kx=\delta(y)x=(\delta(y)y)y^{-1}x\in \Delta Q.
	\]
	Since $\Delta$ and $Q$ are subgroups of $K\rtimes Q$, we have that 
	$\Delta Q\subseteq K\rtimes Q$, and therefore $\Delta Q=K\rtimes Q$.
	Conversely, if $k\in K$ and $x\in Q$ there exist  
	$y,z\in Q$ such that $kx=\delta(y)yz$. Then it follows that 
	$k=\delta(y)$. 
\end{proof}

A group $G$ admits a {\em triple factorization} if there are subgroups 
$A$, $B$ and $M$ such that $G=MA=MB=AB$ and $A\cap M=B\cap M=\{1\}$.
The following result is an immediate consequence of Sysak's theorem.

\begin{corollary}
	If the group $Q$ acts by automorphisms on $K$ and $\delta\in\Der(Q,K)$ is
	surjective, then $G=K\rtimes Q$ admits a triple factorization. 
\end{corollary}

% \begin{proof}
% 	Sean $x,y\in Q$ tales que $\delta(x)=\delta(y)$. Como $\delta(x^{-1}y)=1$
% 	pues 
% 	\[
% 	\delta(x^{-1}y)=\delta(x^{-1})(x^{-1}\delta(y)x)=\delta(x^{-1})x^{-1}\delta(x)x=\delta(x^{-1}x)=\delta(1)=1
% 	\]
% 	y $\delta$ es inyectiva, $x^{-1}y=1$. La afirmación recíproca es trivial.
% \end{proof}

% \begin{corollary}
% 	Si $\delta\in\Der(Q,K)$ es biyectivo entonces $K$ admite un complemento
% 	$\Delta$ en $K\rtimes Q$ tal que $K\rtimes Q=K\rtimes\Delta=\Delta Q$ y
% 	$Q\cap\Delta=1$.
% \end{corollary}

% \begin{proof}
% 	Vimos en el teorema de Sysak que $\delta$ es sobreyectiva si y
% 	sólo si $K\rtimes Q=\Delta Q$ y que $\ker\delta=Q\cap\Delta$.
% \end{proof}

%\section{Aplicación: subespacios invariantes}
%
%Sea $A$ un grupo que actúa por automorfismos en un grupo $G$. Definimos
%\[
%C_G(A)=\{g\in G:g\cdot a=a\text{ para todo $a\in A$}\}.
%\]
%
%Como aplicación de la teoría de Schur--Zassenhaus vamos a demostrar los
%teoremas de Sylow para subespacios $A$-invariantes.
%Necesitamos el siguiente lema:
%
%\begin{lemma}
%	\label{lemma:Glauberman}
%	Sean $A$ y $G$ grupos finitos de órdenes coprimos. Supongamos que $A$ actúa
%	por automorfismos en $G$ y que $A$ o $G$ es resoluble. Supongamos que $A$
%	actúa en un conjunto $X$ y que $G$ actúa transitivamente en $X$ de forma tal que
%	\begin{equation}
%		\label{equation:Glauberman:compatibilidad}
%		a\cdot (g\cdot x)=(aga^{-1})\cdot (a\cdot x)
%	\end{equation}
%	para todo $a\in A$, $g\in G$, $x\in X$. Valen las siguientes afirmaciones:
%	\begin{enumerate}
%		\item Existe un $x\in X$ invariante por la acción de $A$.
%		\item Si $x,y\in X$ son invariantes por la acción de $A$ entonces
%			existe $c\in C_G(A)$ tal que $c\cdot x=y$.
%	\end{enumerate}
%\end{lemma}
%
%\begin{proof}
%	Sea $\Gamma=G\rtimes A$ el producto semidirecto. Todo $\gamma$ se escribe
%	en forma única como $\gamma=ga$ con $g\in G$, $a\in A$. Veamos que $\Gamma$
%	actúa en $X$ por
%	\[
%		\gamma\cdot x=(ga)\cdot x=g\cdot (a\cdot x).
%	\]
%	Es fácil ver que es una acción pues la igualdad
%	\[
%	(ga)\cdot ((hb)\cdot x)=((ga)(hb))\cdot x=(gaha^{-1})\cdot ((ab)\cdot x)
%	\]
%	es consecuencia de la relación de
%	compatibilidad~\eqref{equation:Glauberman:compatibilidad}.\framebox{completar}
%
%\end{proof}
%\begin{theorem}
%	\label{theorem:Sylow_Ainv}
%\end{theorem}
%
%}

Let $A$ be an additive group and $G$ be a group and let 
$G\times A\to A$, $(g,a)\mapsto g\cdot a$,
be a left action of $G$ on $A$ by automorphisms. This means that the action of $G$ on $A$ satisfies 
$g\cdot (a+b)=g\cdot a+g\cdot b$ for all $g\in G$ and $a,b\in A$.
A \emph{bijective
$1$-cocyle} is a bijective map $\pi\colon G\to A$ such that 
\begin{equation}
    \label{eq:1cocycle}
    \pi(gh)=\pi(g)+g\cdot \pi(h)
\end{equation}
for all $g,h\in G$. To simplify the notation we 
just say that the pair $(G,\pi)$ is a bijective 1-cocycle with values
on $A$. 

\begin{theorem}
	\label{thm:1cocycle}
	Let $A$ be an additive group. There exists a bijective
	correspondence
	\[
		\{\text{bijective 1-cocycles with values on $A$}\}
	\leftrightarrow
	\{\text{braces with additive group $A$}\}
	\]
%    Over any additive group $A$ the following data are equivalent:
%    \begin{enumerate}
%        \item A group $G$ and a bijective
%            1-cocycle $\pi\colon G\to A$. 
%        \item A brace structure over $A$. 
%    \end{enumerate}

    \begin{proof}
        Consider on $A$ a second group structure given by 
        \[
		a\circ b=\pi(\pi^{-1}(a)\pi^{-1}(b))=a+\pi^{-1}(a)\cdot b
		\]
		for all
        $a,b\in A$.  Since $G$ acts on $A$ by
        automorphisms, 
        \begin{align*}
            a\circ (b+c)&=\pi(\pi^{-1}(a)\pi^{-1}(b+c))=a+\pi^{-1}(a)\cdot (b+c)\\
            &=a+ \pi^{-1}(a)\cdot b+\pi^{-1}(a)\cdot c
            =a\circ b-a+a\circ c
        \end{align*}
        holds for all $a,b,c\in A$.
        
        Conversely, assume that the additive group $A$ has a brace structure. Let $G$ be the multiplicative group of $A$
        and $\pi=\id$. By
        Exercise~\ref{xca:lambda}, $a\mapsto\lambda_a$ is a group homomorphism from $G$ to $\Aut(A,+)$ and 
        hence $G$ acts on $A$ by automorphisms. Then~\eqref{eq:1cocycle} holds
        and therefore $\pi\colon G\to A$ is a bijective 1-cocycle. 
    \end{proof}
\end{theorem}

The construction of the previous theorem is functorial.

\begin{exercise}
\label{xca:1cocycle}
Let $\pi\colon G\to A$ and $\eta\colon H\to B$ be bijective 1-cocycles.  A
\emph{homorphism} between these bijective 1-cocycles is a pair $(f,g)$ of group
homomorphisms  $f\colon G\to H$, $g\colon A\to B$ such that
\begin{align*}
&\eta f=g\pi,\\
&g(h\cdot a)=f(h)\cdot g(a),&&a\in A,\;h\in G.
\end{align*}
Bijective 1-cocycles and homomorphisms form a category. 
For a given additive group $A$ 
the full subcategory of the category of bijective 1-cocycles with objects
$\pi\colon G\to A$ is equivalent to the full subcategory of the category of
braces with additive group $A$. 
\end{exercise}




\begin{example}
	\label{exa:d8q8}
	Let 
	\[
	D_4=\langle r,s:r^4=s^2=1,srs=r^{-1}\rangle
	\]
	be the dihedral group of eight elements and let
	\[
	Q_8=\{1,-1,i,-i,j,-j,k,-k\}
	\]
	be the quaternion group of eight elements.  Let
	$\pi:Q_8\to D_4$ be given by 
	\begin{align*}
		1\mapsto 1 &, & -1\mapsto r^2 &,  & -k\mapsto r^3s &,&  k\mapsto rs &,\\
		i\mapsto s &, & -i\mapsto r^2s &, &  j\mapsto r^3 &, & -j\mapsto r &.
	\end{align*}
	Since $\pi$ is bijective, 
	a straightforward calculation shows that $D_4$ with 
	\[
	  x+y=xy,\quad 
	  x\circ y=\pi(\pi^{-1}(x)\pi^{-1}(y))
	\]
	is a two-sided brace with additive group isomorphic to $D_4$ and multiplicative group
	isomorphic to $Q_8$. 
\end{example}

\section*{Exercises}

\begin{prob}
	\label{xca:lifting}
	Let $E:
	\begin{tikzcd}
	1 & K & G & Q & 1
	\arrow[from=1-1, to=1-2]
	\arrow[from=1-2, to=1-3]
	\arrow["p", from=1-3, to=1-4]
	\arrow[from=1-4, to=1-5]
    \end{tikzcd}$
	be an extension. 
	\begin{enumerate}
		\item If $\ell\colon Q\to G$ is a lifting, then $\ell(Q)$
			is a transversal of $\ker p$ in $G$.
		\item Each transversal of $\ker p$ in $G$ induces a lifting $\ell\colon
			Q\to G$.
		\item If $\ell\colon Q\to G$ is a lifting, then 
			$\ell(xy)\ker p=\ell(x)\ell(y)\ker p$.
	\end{enumerate}
\end{prob}

\begin{prob}
	\label{xca:1cocycle}
	Let $\varphi\colon Q\to K$ be a 1-cocycle. 
	\begin{enumerate}
		\item $\varphi(1)=1$.
		\item $\varphi(y^{-1})=(y^{-1}\cdot\phi(y))^{-1}=y^{-1}\cdot\phi(y)^{-1}$.
		\item The set $\ker\varphi=\{x\in Q:\varphi(x)=1\}$ is a subgroup of $Q$. 
	\end{enumerate}
\end{prob}

\begin{prob}
	\label{xca:ker1cocycle}
	Let $\delta\in\Der(Q,K)$. 
	\begin{enumerate}
	\item Prove that $\delta$ is injective if and only if 
	$\ker\delta=\{1\}$.
	\item Prove that if $\delta$ is bijective, then  
	$K$ admits a complement 
	$\Delta$ in $K\rtimes Q$ such that $K\rtimes Q=K\rtimes\Delta=\Delta Q$ and 
	$Q\cap\Delta=\{1\}$.
	\end{enumerate}
\end{prob}




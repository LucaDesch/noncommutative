\chapter{}

\topic{The Yang--Baxter equation}

We now briefly discuss set-theoretic solutions to the Yang--Baxter equation. 

\begin{definition}
\index{Solution}
\index{Solution!finite}
A \emph{set-theoretic solution} to the Yang--Baxter equation (YBE) is a pair $(X,r)$, 
where $X$ is a non-empty set and $r\colon X\times X\to X\times X$ is a bijective map that satisfies 
\[
(r\times\id)(\id\times r)(r\times\id)=
(\id\times r)(r\times\id)(\id\times r),
\]
where, if $r(x,y)=(\sigma_x(y),\tau_y(x))$, then 
\begin{align*}
& r\times\id\colon X\times X\times X\to X\times X\times X, &&(r\times\id)(x,y,z)=(\sigma_x(y),\tau_y(x),z),\\
& \id\times r\colon X\times X\times X\to X\times X\times X, &&(\id\times r)(x,y,z)=(x,\sigma_y(z),\tau_z(y)).
\end{align*}
The solution $(X,r)$ is said to be \emph{finite} if $X$ is a finite set. 
\end{definition}

\begin{figure}
\centering
\begin{tikzpicture}
\pic[
  braid/.cd,
  number of strands=3,
  height=.5cm,
  width=.5cm,
  ultra thick,
  gap=0.1,
  name prefix=braid,
] {braid={a_{1}a_2a_1}};
\end{tikzpicture}
\hspace{1cm}
\begin{tikzpicture}
\pic[
  braid/.cd,
  number of strands=3,
  height=.5cm,
  width=.5cm,
  ultra thick,
  gap=0.1,
  name prefix=braid,
] {braid={a_{2}a_1a_2}};
\end{tikzpicture}
\caption{The Yang--Baxter equation.}
\label{fig:braid}
\end{figure}


\begin{example}
Let $X$ be a non-empty set. Then $(X,\id)$ is a set-theoretic 
solution to the YBE. 	
\end{example}

\begin{example}
\index{Solution!trivial}
Let $X$ be a non-empty set. Then $(X,r)$, where $r(x,y)=(y,x)$, is a  set-theoretic solution to the YBE. This solution 
is known as the \emph{trivial solution} over the set $X$. 
\end{example}

By convention, we write
\[
r(x,y)=(\sigma_x(y),\tau_y(x)).
\]

\begin{lemma}
    \label{lem:YB}
    Let $X$ be a non-empty set and $r\colon X\times X\to X\times X$ be a bijective map.
    Then $(X,r)$ is a set-theoretic solution to the YBE if and only if 
    \begin{align*}
        &\sigma_x\sigma_y = \sigma_{\sigma_x(y)}\sigma_{\tau_y(x)},&
        &\sigma_{\tau_{\sigma_y(z)}(x)}\tau_z(y)=\tau_{\sigma_{\tau_y(x)}(z)}\sigma_x(y),&
        &\tau_z\tau_y=\tau_{\tau_z(y)}\tau_{\sigma_y(z)}
    \end{align*}
    for all $x,y,z\in X$. 
\end{lemma}

\begin{proof}
    We write $r_1=r\times\id$ and $r_2=\id\times r$. We first compute
    \begin{align*}
        r_1r_2r_1(x,y,z)&=r_1r_2(\sigma_x(y),\tau_y(x),z)
        =r_1(\sigma_x(y),\sigma_{\tau_y(x)}(z),\tau_z\tau_y(x))\\
        &=\left(\sigma_{\sigma_x(y)}\sigma_{\tau_y(x)}(z),\tau_{\sigma_{\tau_y(x)}(z)}\sigma_x(y),\tau_z\tau_y(x)\right).
    \end{align*}
    Then we compute
    \begin{align*}
        r_2r_1r_2(x,y,z)&=r_2r_1(x,\sigma_y(z),\tau_z(y))
        =r_2(\sigma_x\sigma_y(z),\tau_{\sigma_y(z)}(x),\tau_z(y))\\
        &=\left(\sigma_x\sigma_y(z),\sigma_{\tau_{\sigma_y(z)}(x)}\tau_z(y),\tau_{\tau_z(y)}\tau_{\sigma_y(z)}(x)\right)
    \end{align*}
    and the claim follows.    
\end{proof}

If $(X,r)$ is a set-theoretic solution, by definition the map $r\colon X\times X\to X\times X$ is 
invertible. By convention, we write 
 \[
 r^{-1}(x,y)=(\widehat{\sigma}_x(y),\widehat{\tau}_y(x)).
 \]
 Note that this implies that
 \[
 x=\widehat{\sigma}_{\sigma_x(y)}\tau_y(x),\quad
 y=\widehat{\tau}_{\tau_y(x)}\sigma_x(y).
 \]
 It is easy to check that $(X,r^{-1})$ is a set-theoretic solution to the YBE. Thus Lemma~\ref{lem:YB} implies that 
 the following formulas hold:
 \[
 \widehat{\tau}_y\widehat{\tau_x}=\widehat{\tau}_{\tau_y(x)}\widehat{\tau}_{\sigma_x(y)},
 \quad
 \widehat{\sigma}_x\widehat{\sigma_y}=\widehat{\sigma}_{\sigma_x(y)}\widehat{\sigma}_{\tau_y(x)}.
 \]
% Since $r(\tau^{-1}_y(x),y)=(\sigma_{\tau^{-1}_y(x)}(y),x)$, 
% it follows that 
% \[
% \widehat{\tau}_x\sigma_{\tau^{-1}_y(x)}(y)=y.
% \]
% for all $x,y\in X$. Moreover, 
% \[
% x\triangleright y=\tau_x\sigma_{\tau^{-1}_y(x)}(y)=\tau_x\widehat{\tau}^{-1}_x(y)
% \]
% for all $x,y\in X$. 

\begin{example}
Let $X=\{1,2,3,4\}$ and $r(x,y)=(\sigma_x(y),\tau_y(x))$, where
\begin{align*}
&\sigma_1=(132),&&
\sigma_2=(124),&&
\sigma_3=(143),&&
\sigma_4=(234),\\
&\tau_1=(12)(34),&&
\tau_2=(12)(34),&&
\tau_3=(12)(34),&&
\tau_4=(12)(34).
\end{align*}
Then $r$ is invertible with $r^{-1}(x,y)=(\widehat{\sigma}_x(y),\widehat{\tau}_y(x))$ given by
\begin{align*}
&\widehat{\sigma}_1=(12)(34), &&
\widehat{\sigma}_2=(12)(34), &&
\widehat{\sigma}_3=(12)(34), &&
\widehat{\sigma}_4=(12)(34),\\
&\widehat{\tau}_1=(142),&&
\widehat{\tau}_2=(123),&&
\widehat{\tau}_3=(243),&&
\widehat{\tau}_4=(134).
\end{align*}
\end{example}

\begin{definition}
A \emph{homomorphism} between the set-theoretic solutions $(X,r)$ and
$(Y,s)$ is a map $f\colon X\to Y$ such that the diagram 
\[\begin{tikzcd}
	{X\times X} & {X\times X} \\
	{Y\times Y} & {Y\times Y}
	\arrow["r", from=1-1, to=1-2]
	\arrow["{f\times f}"', from=1-1, to=2-1]
	\arrow["{f\times f}", from=1-2, to=2-2]
	\arrow["s"', from=2-1, to=2-2]
\end{tikzcd}
\]
is commutative, that is $s (f\times f)=(f\times f) r$. An \emph{isomorphism} of solutions is a bijective
homomorphism of solutions.
\end{definition}

Since we are interested in studying the combinatorics behind set-theoretic solutions to the YBE,
it makes sense to study the following family of solutions. 

\begin{definition}
\index{Solution!non-degenerate}
We say that a set-theoretic solution $(X,r)$ to the YBE 
is \emph{non-degenerate} if the maps $\sigma_x$ and $\tau_x$ are 
permutations of $X$. 
\end{definition}

By convention, a \emph{solution} we will mean a non-degenerate {\bf set-theoretic} solution to the YBE.

\begin{lemma}
\label{lem:LYZ}
Let $(X,r)$ be a solution. 
\begin{enumerate}
    \item Given $x,u\in X$, there exist unique $y,v\in X$ such that $r(x,y)=(u,v)$. 
    \item Given $y,v\in X$, there exist unique $x,u\in X$ such that $r(x,y)=(u,v)$. 
\end{enumerate}
\end{lemma}

\begin{proof}
    For the first claim take $y=\sigma_x^{-1}(u)$ and $v=\tau_y(x)$. 
    For the second, $x=\tau_y^{-1}(v)$ and $u=\sigma_x(y)$. 
\end{proof}

The bijectivity of $r$ means that any row determines the whole square. Lemma~\ref{lem:LYZ}
means that any column also determines the whole square, see Figure~\ref{fig:braid}.

\begin{figure}
\centering
\begin{tikzpicture}
\pic[
  braid/.cd,
  number of strands=2,
  ultra thick,
  gap=0.1,
  name prefix=braid,
] {braid={a_{1}^{-1}}};
\node[] at (-.25,-.12) {$x$};
\node[] at (1.25,-.12) {$y$};
\node[] at (-.25,-1.4) {$u$};
\node[] at (1.25,-1.4) {$v$};
\node[] at (-.25,-.75) {$r$};
\end{tikzpicture}
\begin{tikzpicture}
\pic[
  braid/.cd,
  number of strands=2,
  ultra thick,
  gap=0.1,
  name prefix=braid,
] {braid={a_{1}}};
\node[] at (-.25,-.12) {$x$};
\node[] at (1.25,-.12) {$y$};
\node[] at (-.25,-1.4) {$u$};
\node[] at (1.25,-1.4) {$v$};
\node[] at (-.25,-.75) {$r^{-1}$};
\end{tikzpicture}
\caption{Any row or column determines the whole square.}
\label{fig:braid}
\end{figure}

\begin{example}
If the map $(x,y)\mapsto(\sigma_x(y),\tau_y(x))$ satisfies the Yang--Baxter equation, then 
so does $(x,y)\mapsto (\tau_x(y),\sigma_y(x))$. 
\end{example}

\begin{example}
\label{exa:Lyubashenko}
Let $X$ be a non-empty set and $\sigma$ and $\tau$ be 
bijections on $X$ such that $\sigma\circ\tau=\tau\circ\sigma$. Then 
$(X,r)$, where $r(x,y)=(\sigma(y),\tau(x))$, is a non-degenerate solution. 
This is known as the \emph{permutation solution} associated
with permutations $\sigma$ and $\tau$. 
%The solution $(X,r)$ is involutive 
%if and only if $\tau^{-1}=\sigma$. 
\end{example}
%
%\begin{example}
%\label{exa:Wada}
%Let $G$ be a group. Then $(G,r)$, where $r(x,y)=(xy^{-1}x^{-1},xy^2)$, is a solution. 
%\end{example}

\begin{example}
\label{exa:Venkov}
Let $G$ be a group. Then $(G,r)$, where $r(x,y)=(xyx^{-1},x)$, is a solution. 
\end{example}

\begin{example}
Let $n\geq2$ and $X=\Z/(n)$ be the ring of integers modulo $n$. Prove that
the map $r(x,y)=(2x-y,x)$ satisfies the the set-theoretic YBE.  
\end{example}

The following result
was proved by Lu, Yan and Zhu. 

\begin{theorem}[Lu--Yan--Zhu]
\label{thm:LYZ}
Let $G$ be a group, $\xi\colon G\times G\to G$, $\xi(x,y)=x\rhd y$,
be a left action of the group $G$ on itself as a set and 
$\eta\colon G\times G\to G$, $\eta(x,y)=x\lhd y$, 
be a right action of the group $G$ on itself as a set. If the compatibility condition
\[
uv=(u\rhd v)(u\lhd v)
\]
holds for all $u,v\in G$, then the pair $(G,r)$, where 
\[
r\colon G\times G\to G\times G,\quad
r(u,v)=(u\rhd v,u\lhd v)
\]
is a solution. Moreover, 
if $r(x,y)=(u,v)$, then 
\[
r(x^{-1},y^{-1})=(u^{-1},v^{-1}),
\quad
r(x^{-1},u)=(y,v^{-1}),
\quad
r(v,y^{-1})=(u^{-1},x).
\]
\end{theorem}

\begin{proof}
We write $r_1=r\times\id$ and $r_2=\id\times r$. Let
\[
r_1r_2r_1(u,v,w)=(u_1,v_1,w_1),\quad
r_2r_1r_2(u,v,w)=(u_2,v_2,w_2).
\]
The compatibility condition implies that $u_1v_1w_1=u_2v_2w_2$. 
So we need to prove that $u_1=u_2$ and $w_1=w_2$. We note that
\begin{align*}
&u_1=(u\rhd v)\rhd ( (u\lhd v)\rhd w),
&&w_1=(u\lhd v)\lhd w,\\
&u_2=u\rhd (v\rhd w),
&&w_2=(u\lhd (v\rhd w))\lhd (v\lhd w).
\end{align*}
Using the compatibility condition and the fact that $\xi$ is a left action, 
\begin{align*}
    &u_1=((u\rhd v)(u\lhd v))\rhd w=(uv)\rhd w=u\rhd (v\rhd w)=u_2.
\end{align*}
Similarly, since $\eta$ is a right action, 
\[
w_2=u\lhd ((v\rhd w)(v\lhd w))=u\lhd (vw)=(u\lhd v)\lhd w=w_1.
\]

To prove that $r$ is invertible we proceed as follows. 
Write $r(u,v)=(x,y)$, thus $u\rhd v=x$, $u\lhd v=y$ and $uv=xy$. Since 
\begin{align*}
& (y\rhd v^{-1})u=(y\rhd v^{-1})(y\lhd v^{-1})=yv^{-1}=x^{-1}u,
\end{align*}
it follows that $y\rhd v^{-1}=x^{-1}$, i.e. $v^{-1}=y^{-1}\rhd x^{-1}$. Similarly, 
\[
v(u^{-1}\lhd x)=(u^{-1}\rhd x)(u^{-1}\lhd x)=u^{-1}x=vy^{-1}
\]
implies that $u^{-1}=y^{-1}\lhd x^{-1}$. Clearly 
$r^{-1}=\zeta (i\times i) r (i\times i) \zeta$,
is the inverse of $r$, where $\zeta(x,y)=(y,x)$ and $i(x)=x^{-1}$. 
\end{proof}

\begin{proposition}
Under the assumptions of Theorem~\ref{thm:LYZ}, 
if $r(x,y)=(u,v)$, then 
\[
r(v^{-1},u^{-1})=(y^{-1},x^{-1}),
\quad
r(x^{-1},u)=(y,v^{-1}),
\quad
r(v,y^{-1})=(u^{-1},x).
\]
\end{proposition}

\begin{proof}
In the proof of Theorem~\ref{thm:LYZ} we found that 
the inverse of the map $r$ is given by $r^{-1}=\zeta (i\times i) r (i\times i) \zeta$,
where $\zeta(x,y)=(y,x)$ and $i(x)=x^{-1}$. Hence 
\[
r^{-1}(y^{-1},x^{-1})=\zeta (i\times i) r (i\times i) \zeta(y^{-1},x^{-1})=\zeta (i\times i) r (x,y)=(v^{-1},u^{-1}).
\]
It follows that $r(v^{-1},u^{-1})=(y^{-1},x^{-1})$.  
To prove the equality $r(x^{-1},u)=(y,v^{-1})$ we proceed as follows. Since $r(x,y)=(u,v)$, it 
follows that $x\triangleright y=u$. Then $x^{-1}\triangleright u=y$ and
hence $r(x^{-1},u)=(y,z)$ for some $z\in G$. 
Since $xy=uv$ and $x^{-1}u=yz$, it immediately follows that $yt=yv^{-1}$. Then 
$z=v^{-1}$. Similarly one proves $r(v,y^{-1})=(u^{-1},x)$.
\end{proof}
%
%\begin{proposition}
%Under the assumptions of Theorem~\ref{thm:LYZ}, 
%if $r(x,y)=(u,v)$, then 
%\[
%r(x^{-1},y^{-1})=(u^{-1},v^{-1}),
%\quad
%r(x^{-1},u)=(y,v^{-1}),
%\quad
%r(v,y^{-1})=(u^{-1},x).
%\]
%\end{proposition}
%
%\begin{proof}
%In the proof of Theorem~\ref{thm:LYZ} we found that 
%the inverse of the map $r$ is given by $r^{-1}=\zeta (i\times i) r (i\times i) \zeta$,
%where $\zeta(x,y)=(y,x)$ and $i(x)=x^{-1}$. It follows that $r(x^{-1},y^{-1})=(u^{-1},v^{-1})$.  
%To prove the equality $r(x^{-1},u)=(y,v^{-1})$ we proceed as follows. Since $r(x,y)=(u,v)$, it 
%follows that $x\triangleright y=u$. Then $x^{-1}\triangleright u=y$ and
%hence $r(x^{-1},u)=(y,z)$ for some $z\in G$. 
%Since $xy=uv$ and $x^{-1}u=yz$, it follows that $yt=yv^{-1}$. Then 
%$z=v^{-1}$. Similarly one proves $r(v,y^{-1})=(u^{-1},x).$
%\end{proof}

